<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Alan Rodas Bonjour">
    <title>Ejercicio 9</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>

    <nav class="navbar navbar-expand-lg bg-primary">
        <div class="container-fluid">
            <span class="navbar-brand text-light">
                TODO Manager
            </span>
        </div>
    </nav>

    <div class="container p-5">
        <div class="row">
            <label for="todo-input" class="form-label">Ingrese el texto del item a agregar</label>
        </div>
        <div class="row">
            <div class="col-10">
                <input onkeyup="pressKey()" id="todo-text" type="text" class="form-control" placeholder="Hacer algo">
            </div>
            <div class="col-2">
                <button disabled id="todo-add" class="btn btn-success" onclick="addCosa()">Agregar</button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row" id="cosasParaHacer">
            <div class="alert alert-info alert-dismissible fade show" role="alert">
                La primer cosa para hacer.
                <button type="button" class="btn-close" aria-label="Close" onclick="removeCosa(1)"></button>
            </div>
            <div class="alert alert-info alert-dismissible fade show" role="alert">
                La segunda cosa para hacer.
                <button type="button" class="btn-close" aria-label="Close" onclick="removeCosa(2)"></button>
            </div>
        </div>
    </div>
    <script>
        /*1  First let’s implement the add button enable-disable behavior. If the text in the input is
        empty, the button should remain as disabled, but it should be enabled as soon as there
        is any text in the input*/
        const buttonAgregar = document.getElementById('todo-add');
        const inputText = document.getElementById('todo-text');
        function pressKey() {
            if (inputText.value.length == 0) {
                buttonAgregar.disabled = true;
            } else {
                buttonAgregar.disabled = false;
            }
        }
        /*2 Now let’s implement the add logic. When the button is pressed, a new element in the
         todo list should be added. This includes not only the text, but also the delete button
         associated with it.*/
         let cont = 3;
         const cosasParaHacer = document.getElementById('cosasParaHacer');
        function addCosa() {            
            const objetoAgregar = document.createElement('div');
            objetoAgregar.setAttribute('class', 'alert alert-info alert-dismissible fade show');
            objetoAgregar.setAttribute('role', 'alert');
            objetoAgregar.innerHTML = inputText.value + ". " + '<button type="button" class="btn-close" aria-label="Close" onclick="removeCosa('+cont+')" id="div"></button>';
            cosasParaHacer.appendChild(objetoAgregar);
            removeTextInput();
            cont+=1;
        }
        /*3 Let’s make sure an element is not added twice. For that, once the element is added,
        let’s remove any text in the input, and keep the input focused.*/
        function removeTextInput(){
            inputText.value ='';
        }
        /*4  Now let’s implement the delete logic. When the delete button of an item is pressed, a
        confirm dialog should appear. If the user confirms the deletion, then the item is actually
        removed from the list, if canceled, nothing is removed.*/
        function removeCosa(numero){
            const divRemove = document.getElementsByClassName('alert alert-info alert-dismissible fade show')[numero-1];
            divRemove.remove();            
        }
        function removeCosa2(numero){
            cosasParaHacer.removeChild()
        }

    </script>
</body>

</html>